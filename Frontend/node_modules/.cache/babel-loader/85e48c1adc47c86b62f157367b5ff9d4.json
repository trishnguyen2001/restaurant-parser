{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Trish Nguyen\\\\documents\\\\github\\\\restaurant-parser\\\\frontend\\\\src\\\\routes\\\\BookingForm.jsx\";\nimport styled from \"styled-components\";\nimport { useForm } from \"react-hook-form\";\nimport { SERVER_URL, getUserInfo } from \"api\";\nimport React, { useRef, useState } from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { Ellipsis } from \"react-spinners-css\";\nimport { useQuery } from \"react-query\";\nimport { format, parse } from \"date-fns\";\nconst Container = styled.main`\n  width: 100vw;\n  height: 110vh;\n  display: flex;\n  justify-content: center;\n  margin-top: 36px;\n  //position: center;\n  //margin-left: 5%;\n`;\nconst LeftBox = styled.div`\n  margin-top: 40px;\n  margin-left: 50px;\n  display: flex;\n  justify-content: flex-start; /* Align items to the left */\n  align-items: center; /* Center vertically */\n  //margin-bottom: 20px; /* Add some spacing from the form */\n`;\nconst Back = styled.div`\n  font-size: 16px;\n  font-weight: bold;\n  //margin: 50px 0;\n  //margin-bottom: 20px;\n  color: #293545;\n  cursor: pointer;\n`;\nconst BookingRequest = styled.div`\n  font-size: 26px;\n  font-weight: bold;\n  padding: 20px 0;\n  color: #293545;\n`;\nconst InfoTitle = styled.div`\n  font-size: 20px;\n  font-weight: bold;\n  padding: 10px 0;\n  color: #293545;\n`;\nconst InfoText = styled.div`\n  font-size: 16px;\n  font-weight: normal;\n  padding: 10px 0;\n  color: #293545;\n`;\nconst NoFee = styled.div`\n  font-size: 16px;\n  font-weight: normal;\n  padding: 10px 0;\n  color: #293545;\n  margin-top: 30px;\n`;\nconst NoFeeContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  //margin-top: 10px;\n`;\nconst Payment = styled.div`\n  font-size: 20px;\n  font-weight: bold;\n  padding: 50px 0 10px;\n  color: #293545;\n`;\nconst ErrorText = styled.span`\n  color: #cf316a;\n  font-size: 14px;\n  margin-top: 5px;\n  display: flex;\n`;\nconst ErrorText2 = styled.span`\n  color: #cf316a;\n  font-size: 14px;\n  margin-top: 5px;\n  display: flex;\n`;\nconst CheckInWarning = styled.span`\n  color: #cf316a;\n  font-size: 14px;\n  margin-top: 5px;\n  margin-bottom: 10px;\n  display: flex;\n`;\nconst FieldName = styled.div`\n  font-size: 16px;\n  font-weight: normal;\n  margin-top: 20px;\n  color: #293545;\n`;\nconst Input1 = styled.input`\n  margin-top: 15px;\n  width: 500px;\n  padding: 10px;\n  border: 1px solid #b0b0b0;\n  border-radius: 20px;\n  height: 37px;\n  color: #888888;\n  font-size: 16px;\n  font-weight: 400;\n`;\nconst Input2 = styled.input`\n  margin-top: 15px;\n  width: 250px;\n  padding: 10px;\n  border: 1px solid #b0b0b0;\n  border-radius: 20px;\n  height: 37px;\n  color: #888888;\n  font-size: 16px;\n  font-weight: 400;\n`;\nconst Input3 = styled.input`\n  margin-top: 15px;\n  margin-left: 0px;\n  width: 240px;\n  padding: 10px;\n  border: 1px solid #b0b0b0;\n  border-radius: 20px;\n  height: 37px;\n  color: #888888;\n  font-size: 16px;\n  font-weight: 400;\n`;\nconst CVC = styled.div`\n  font-size: 16px;\n  font-weight: normal;\n  margin-top: 20px;\n  margin-right: 200px;\n  color: #293545;\n`;\nconst SubmitButton = styled.button`\n  margin-top: 30px;\n  width: 500px;\n  height: 44px;\n  padding: 15px;\n  margin-bottom: 100px;\n  border-radius: 20px;\n  background-color: #cf316a;\n  color: #ffffff;\n  font-size: 16px;\n  font-weight: 700;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n\n  &:hover {\n    background-color: #ff457b;\n  }\n`;\nconst Card = styled.div`\n  border: 1px solid #293545;\n  border-radius: 10px;\n  padding: 10px;\n  border: 1px solid #293545;\n  border-radius: 10px;\n  padding: 10px;\n  color: #293545;\n  width: 390px;\n  display: block;\n  margin-right: 200px;\n  margin-top: 150px;\n`;\nconst LeftSide = styled.div`\n  border-style: solid;\n  border-radius: 10px;\n  color: #293545;\n  margin-right: 100px;\n`;\nconst RightSide = styled.div`\n  border-style: solid;\n  border-radius: 10px;\n  color: #293545;\n`;\nconst Image = styled.div`\n  padding: 15px;\n  height: 250px;\n\n  img {\n    width: 100%;\n    height: 100%;\n    border-radius: 10px;\n  }\n`;\nconst Pricing = styled.div`\n  margin-top: 10px;\n  margin-left: 20px;\n  font-size: 20px;\n  font-weight: bold;\n`;\nconst CostAndAmount = styled.div`\n  margin-top: 20px;\n  margin-left: 20px;\n  font-size: 16px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n`;\nconst Amount = styled.div`\n  margin-right: 20px;\n  font-size: 16px;\n  font-weight: normal;\n`;\nconst Total = styled.div`\n  margin-top: 60px;\n  margin-left: 20px;\n  margin-bottom: 20px;\n  font-size: 20px;\n  font-weight: bold;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n`;\nconst TotalCost = styled.div`\n  margin-right: 20px;\n  font-size: 20px;\n  font-weight: bold;\n`;\nconst ErrorMessageArea = styled.div`\n  font-size: 12px;\n  font-weight: 400;\n  color: rgba(207, 49, 106, 1);\n  margin-left: 200px;\n`;\nfunction BookingForm() {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const isCancelRoute = window.location.pathname.includes(\"/cancel\");\n  const {\n    roomData,\n    numGuests\n  } = location.state;\n  const [isFetching, setIsFetching] = useState(false);\n  const [serverError, setServerError] = useState({\n    status: 0,\n    message: \"\"\n  });\n  const [cardNumber, setCardNumber] = useState(\"4242424242424242\");\n  const [expirationDate, setExpirationDate] = useState(\"12/34\");\n  const [cvc, setCVC] = useState(\"121\");\n  const applyInputRef = useRef(null);\n  const [pointsUsed, setPointsUsed] = useState(0);\n  const {\n    isLoading: isUserInfoLoading,\n    data: userInfo\n  } = useQuery([\"userinfo\"], getUserInfo);\n  const {\n    handleSubmit,\n    register,\n    formState: {\n      errors\n    }\n  } = useForm();\n  const nights = Math.floor((new Date(roomData.endDate).getTime() - new Date(roomData.startDate).getTime()) / (24 * 3600 * 1000));\n  const subtotal = roomData.price * nights;\n  const tax = subtotal * 0.08;\n  const total = subtotal + tax - pointsUsed / 10;\n  const rewardPointsEarned = Math.floor(total * 0.5);\n  console.log(rewardPointsEarned);\n  let dollarString = new Intl.NumberFormat(\"en-US\", {\n    style: \"currency\",\n    currency: \"USD\",\n    minimumFractionDigits: 2\n  });\n  const checkInDateParts = roomData.startDate.split(\", \");\n  const monthNames = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n  const dateParts = checkInDateParts[0].split(\" \");\n  const month = monthNames.indexOf(dateParts[0]);\n  const day = parseInt(dateParts[1]);\n  const year = parseInt(checkInDateParts[1]);\n  const checkInDate = new Date(year, month, day);\n  const currentDate = new Date(); //2023, 10, 11 Mmonths are 0-indexed (10 represents November).\n\n  console.log(\"checkindate\", checkInDate);\n  console.log(\"currentdate\", currentDate);\n  const threeDaysPrior = (currentDate, checkInDate) => {\n    const hoursDifference = Math.abs(currentDate - checkInDate) / 36e5;\n    return hoursDifference <= 72;\n  };\n  console.log(\"3 days\", threeDaysPrior(currentDate, checkInDate));\n  const getCancellationFee = () => {\n    if (isCancelRoute && threeDaysPrior(currentDate, checkInDate)) {\n      return Math.round(total * 0.2); // Cancellation fee applies within 3 days\n    } else {\n      return 0; // No cancellation fee\n    }\n  };\n\n  const onSubmit = async formData => {\n    if (isCancelRoute) {\n      //calculating cancellation fee\n      const cancellationFee = getCancellationFee();\n\n      //request body with the cancellation fee\n      const body = {\n        cancellationFee: cancellationFee\n      };\n      const response = await fetch(`${SERVER_URL}/bookings/${roomData.rid}`, {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(body) //including cancellation fee in the request body\n      });\n\n      const data = await response.json();\n      console.log(response.status, data);\n      if (response.ok) {\n        navigate(\"success\");\n      }\n      setIsFetching(false);\n    } else {\n      const body = {\n        ...formData,\n        startDate: roomData.startDate,\n        endDate: roomData.endDate,\n        numGuest: numGuests,\n        totalPrice: total,\n        pointsUsed,\n        cardNumber: cardNumber,\n        expirationDate: expirationDate,\n        cvc: cvc,\n        rewardPointsEarned\n      };\n      setIsFetching(true);\n      const response = await fetch(`${SERVER_URL}/bookings?rid=${roomData.rid}`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(body)\n      });\n      const data = await response.json();\n      console.log(response.status, data);\n      setServerError({\n        status: response.status,\n        message: data.message\n      });\n      if (response.ok) {\n        if (data.error) setServerError({\n          ...serverError,\n          message: data.error\n        });else navigate(\"success\");\n      }\n      setIsFetching(false);\n    }\n  };\n  const handleApplyRewardPoint = () => {\n    const value = applyInputRef.current.value;\n    if (!isUserInfoLoading) {\n      if (value > userInfo.rewardPoints) {\n        alert(\"You cannot apply reward points greater than that you own\");\n      } else {\n        setPointsUsed(value);\n      }\n    }\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(LeftBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Back, {\n    onClick: () => navigate(-1),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 9\n    }\n  }, \"Back\")), /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 417,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(LeftSide, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 418,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      borderBottom: \"1px solid #888\",\n      paddingBottom: \"30px\",\n      width: \"500px \"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(BookingRequest, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 13\n    }\n  }, isCancelRoute ? \"Cancel Booking Request\" : \"Booking Request\"), isCancelRoute && threeDaysPrior(currentDate, checkInDate) && /*#__PURE__*/React.createElement(CheckInWarning, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 15\n    }\n  }, \"You have cancellations fees because you are canceling within 3 days of your check-in date.\"), /*#__PURE__*/React.createElement(InfoTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 437,\n      columnNumber: 13\n    }\n  }, \"Location:\"), /*#__PURE__*/React.createElement(InfoText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 438,\n      columnNumber: 13\n    }\n  }, roomData.street_name, \", \", roomData.city, \", \", roomData.state), /*#__PURE__*/React.createElement(InfoTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 442,\n      columnNumber: 13\n    }\n  }, \"Dates:\"), /*#__PURE__*/React.createElement(InfoText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 443,\n      columnNumber: 13\n    }\n  }, roomData.startDate, \" - \", roomData.endDate), /*#__PURE__*/React.createElement(InfoTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 13\n    }\n  }, \"Number of Guests:\"), /*#__PURE__*/React.createElement(InfoText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 448,\n      columnNumber: 13\n    }\n  }, numGuests)), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      borderBottom: \"1px solid #888\",\n      padding: \"22px 0 30px 0\",\n      width: \"500px \"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 451,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(InfoTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 458,\n      columnNumber: 13\n    }\n  }, \"Reward Points \", isCancelRoute ? \"Earned\" : \"to Earn\", \":\"), /*#__PURE__*/React.createElement(InfoText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 461,\n      columnNumber: 13\n    }\n  }, rewardPointsEarned, \" points\")), !isCancelRoute && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      borderBottom: \"1px solid #888\",\n      padding: \"22px 0 30px 0\",\n      width: \"500px \"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 464,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(InfoTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 471,\n      columnNumber: 15\n    }\n  }, \"Apply Reward Points\"), /*#__PURE__*/React.createElement(InfoText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 472,\n      columnNumber: 15\n    }\n  }, \"Points owned: \", isUserInfoLoading ? \"0\" : userInfo.rewardPoints, \" \", \"points\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 476,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(FieldName, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 477,\n      columnNumber: 15\n    }\n  }, \"Apply points to reservation: \"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      alignItems: \"center\",\n      gap: \"10px\",\n      marginTop: \"5px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 478,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Input1, {\n    ref: applyInputRef,\n    type: \"number\",\n    min: 0,\n    defaultValue: 0,\n    style: {\n      color: \"black\",\n      margin: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 486,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(SubmitButton, {\n    style: {\n      width: \"91px\",\n      height: \"37px\",\n      padding: 0,\n      margin: 0\n    },\n    type: \"submit\",\n    onClick: handleApplyRewardPoint,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 493,\n      columnNumber: 17\n    }\n  }, \"Apply\"))), !isCancelRoute && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 510,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Payment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 511,\n      columnNumber: 15\n    }\n  }, \"Payment\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 512,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FieldName, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 513,\n      columnNumber: 17\n    }\n  }, \"Card Number\"), /*#__PURE__*/React.createElement(Input1, Object.assign({}, register(\"cardNumber\", {\n    required: \"Card Number is required\",\n    valueAsNumber: true\n  }), {\n    style: {\n      color: \"black\"\n    },\n    name: \"cardNumber\",\n    value: cardNumber,\n    onChange: e => setCardNumber(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 514,\n      columnNumber: 17\n    }\n  })), errors.cardNumber && /*#__PURE__*/React.createElement(ErrorText, {\n    className: \"error-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 525,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 526,\n      columnNumber: 21\n    }\n  }, errors.cardNumber.message.toString())), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 530,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      flex: 1,\n      marginRight: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 531,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(FieldName, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 532,\n      columnNumber: 21\n    }\n  }, \"Expiration Date\"), /*#__PURE__*/React.createElement(Input2, Object.assign({}, register(\"expirationDate\", {\n    required: \"Expiration date is required\",\n    validate: {\n      validName: value => {\n        // Check if the date is in the \"mm/yy\" format\n        if (!/^\\d{2}\\/\\d{2}$/.test(value)) {\n          return \"Invalid date format (mm/yy)\";\n        }\n      }\n    }\n  }), {\n    type: \"text\",\n    style: {\n      color: \"black\"\n    },\n    name: \"expirationDate\",\n    value: expirationDate,\n    onChange: e => setExpirationDate(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 533,\n      columnNumber: 21\n    }\n  })), errors.expirationDate && /*#__PURE__*/React.createElement(ErrorText, {\n    className: \"error-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 552,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 553,\n      columnNumber: 25\n    }\n  }, errors.expirationDate.message.toString()))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      flex: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 558,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(CVC, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 559,\n      columnNumber: 21\n    }\n  }, \"CVC\"), /*#__PURE__*/React.createElement(Input3, Object.assign({}, register(\"cvc\", {\n    valueAsNumber: true,\n    required: \"CVC is required\",\n    validate: {\n      validName: value => {\n        // Check if CVC has between 3 and 4 digits\n        if (!/^\\d{3,4}$/.test(value)) {\n          return \"Input must be between 3 and 4 digits.\";\n        }\n      }\n    }\n  }), {\n    style: {\n      color: \"black\"\n    },\n    name: \"cvc\",\n    value: cvc,\n    onChange: e => setCVC(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 560,\n      columnNumber: 21\n    }\n  })), errors.cvc && /*#__PURE__*/React.createElement(ErrorText2, {\n    className: \"error-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 579,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 580,\n      columnNumber: 25\n    }\n  }, errors.cvc.message.toString())))), serverError && /*#__PURE__*/React.createElement(ErrorText2, {\n    className: \"error-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 587,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 588,\n      columnNumber: 21\n    }\n  }, serverError.message)), /*#__PURE__*/React.createElement(SubmitButton, {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 591,\n      columnNumber: 17\n    }\n  }, isCancelRoute ? \"Cancel Booking\" : isFetching ? /*#__PURE__*/React.createElement(Ellipsis, {\n    color: \"white\",\n    size: 30,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 595,\n      columnNumber: 21\n    }\n  }) : \"Pay & Reserve\"))), isCancelRoute && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: \"22px 0 30px 0\",\n      width: \"500px \"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 604,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(InfoTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 610,\n      columnNumber: 15\n    }\n  }, \"Cancellation Within 3 Days Refund Policy:\"), threeDaysPrior(currentDate, checkInDate) ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(InfoText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 613,\n      columnNumber: 19\n    }\n  }, \"Only a partial refund will be provided due to cancellation within 3 days. The refund is calculated by the formula: total reservation price - cancellation fee.\")) : /*#__PURE__*/React.createElement(NoFeeContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 620,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(NoFee, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 621,\n      columnNumber: 19\n    }\n  }, \"No cancellation fees are charged for your request.\")), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 626,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(SubmitButton, {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 627,\n      columnNumber: 17\n    }\n  }, \" Cancel Booking\")))), /*#__PURE__*/React.createElement(RightSide, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 633,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 634,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 635,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: roomData.imageUrl,\n    alt: \"hotel-room\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 636,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Pricing, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 638,\n      columnNumber: 13\n    }\n  }, isCancelRoute ? \"Amount Due:\" : \"Pricing:\"), /*#__PURE__*/React.createElement(CostAndAmount, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 639,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 640,\n      columnNumber: 15\n    }\n  }, isCancelRoute ? \"Cancellation Fees\" : `${roomData.price} x ${nights} nights`), /*#__PURE__*/React.createElement(Amount, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 645,\n      columnNumber: 15\n    }\n  }, isCancelRoute ? `$${getCancellationFee()}` : dollarString.format(subtotal))), !isCancelRoute && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CostAndAmount, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 653,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 654,\n      columnNumber: 19\n    }\n  }, \"Tax (8%)\"), /*#__PURE__*/React.createElement(Amount, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 655,\n      columnNumber: 19\n    }\n  }, dollarString.format(tax))), /*#__PURE__*/React.createElement(CostAndAmount, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 657,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 658,\n      columnNumber: 19\n    }\n  }, \"Discount from points\"), /*#__PURE__*/React.createElement(Amount, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 659,\n      columnNumber: 19\n    }\n  }, \"-\", dollarString.format(pointsUsed / 10)))), /*#__PURE__*/React.createElement(Total, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 663,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 664,\n      columnNumber: 15\n    }\n  }, \"Total (USD):\"), /*#__PURE__*/React.createElement(TotalCost, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 665,\n      columnNumber: 15\n    }\n  }, isCancelRoute ? `$${getCancellationFee()}` : dollarString.format(total)))))));\n}\nexport default BookingForm;","map":{"version":3,"names":["styled","useForm","SERVER_URL","getUserInfo","React","useRef","useState","useLocation","useNavigate","Ellipsis","useQuery","format","parse","Container","main","LeftBox","div","Back","BookingRequest","InfoTitle","InfoText","NoFee","NoFeeContainer","Payment","ErrorText","span","ErrorText2","CheckInWarning","FieldName","Input1","input","Input2","Input3","CVC","SubmitButton","button","Card","LeftSide","RightSide","Image","Pricing","CostAndAmount","Amount","Total","TotalCost","ErrorMessageArea","BookingForm","navigate","location","isCancelRoute","window","pathname","includes","roomData","numGuests","state","isFetching","setIsFetching","serverError","setServerError","status","message","cardNumber","setCardNumber","expirationDate","setExpirationDate","cvc","setCVC","applyInputRef","pointsUsed","setPointsUsed","isLoading","isUserInfoLoading","data","userInfo","handleSubmit","register","formState","errors","nights","Math","floor","Date","endDate","getTime","startDate","subtotal","price","tax","total","rewardPointsEarned","console","log","dollarString","Intl","NumberFormat","style","currency","minimumFractionDigits","checkInDateParts","split","monthNames","dateParts","month","indexOf","day","parseInt","year","checkInDate","currentDate","threeDaysPrior","hoursDifference","abs","getCancellationFee","round","onSubmit","formData","cancellationFee","body","response","fetch","rid","method","headers","JSON","stringify","json","ok","numGuest","totalPrice","error","handleApplyRewardPoint","value","current","rewardPoints","alert","createElement","Fragment","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onClick","borderBottom","paddingBottom","width","street_name","city","padding","display","alignItems","gap","marginTop","ref","type","min","defaultValue","color","margin","height","Object","assign","required","valueAsNumber","name","onChange","e","target","className","toString","flex","marginRight","validate","validName","test","size","src","imageUrl","alt"],"sources":["C:/Users/Trish Nguyen/documents/github/restaurant-parser/frontend/src/routes/BookingForm.jsx"],"sourcesContent":["import styled from \"styled-components\";\nimport { useForm } from \"react-hook-form\";\nimport { SERVER_URL, getUserInfo } from \"api\";\nimport React, { useRef, useState } from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { Ellipsis } from \"react-spinners-css\";\nimport { useQuery } from \"react-query\";\nimport { format, parse } from \"date-fns\";\n\nconst Container = styled.main`\n  width: 100vw;\n  height: 110vh;\n  display: flex;\n  justify-content: center;\n  margin-top: 36px;\n  //position: center;\n  //margin-left: 5%;\n`;\n\nconst LeftBox = styled.div`\n  margin-top: 40px;\n  margin-left: 50px;\n  display: flex;\n  justify-content: flex-start; /* Align items to the left */\n  align-items: center; /* Center vertically */\n  //margin-bottom: 20px; /* Add some spacing from the form */\n`;\n\nconst Back = styled.div`\n  font-size: 16px;\n  font-weight: bold;\n  //margin: 50px 0;\n  //margin-bottom: 20px;\n  color: #293545;\n  cursor: pointer;\n`;\n\nconst BookingRequest = styled.div`\n  font-size: 26px;\n  font-weight: bold;\n  padding: 20px 0;\n  color: #293545;\n`;\n\nconst InfoTitle = styled.div`\n  font-size: 20px;\n  font-weight: bold;\n  padding: 10px 0;\n  color: #293545;\n`;\n\nconst InfoText = styled.div`\n  font-size: 16px;\n  font-weight: normal;\n  padding: 10px 0;\n  color: #293545;\n`;\n\nconst NoFee = styled.div`\n  font-size: 16px;\n  font-weight: normal;\n  padding: 10px 0;\n  color: #293545;\n  margin-top: 30px;\n`;\n\nconst NoFeeContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  //margin-top: 10px;\n`;\n\nconst Payment = styled.div`\n  font-size: 20px;\n  font-weight: bold;\n  padding: 50px 0 10px;\n  color: #293545;\n`;\n\nconst ErrorText = styled.span`\n  color: #cf316a;\n  font-size: 14px;\n  margin-top: 5px;\n  display: flex;\n`;\n\nconst ErrorText2 = styled.span`\n  color: #cf316a;\n  font-size: 14px;\n  margin-top: 5px;\n  display: flex;\n`;\n\nconst CheckInWarning = styled.span`\n  color: #cf316a;\n  font-size: 14px;\n  margin-top: 5px;\n  margin-bottom: 10px;\n  display: flex;\n`;\n\nconst FieldName = styled.div`\n  font-size: 16px;\n  font-weight: normal;\n  margin-top: 20px;\n  color: #293545;\n`;\n\nconst Input1 = styled.input`\n  margin-top: 15px;\n  width: 500px;\n  padding: 10px;\n  border: 1px solid #b0b0b0;\n  border-radius: 20px;\n  height: 37px;\n  color: #888888;\n  font-size: 16px;\n  font-weight: 400;\n`;\n\nconst Input2 = styled.input`\n  margin-top: 15px;\n  width: 250px;\n  padding: 10px;\n  border: 1px solid #b0b0b0;\n  border-radius: 20px;\n  height: 37px;\n  color: #888888;\n  font-size: 16px;\n  font-weight: 400;\n`;\n\nconst Input3 = styled.input`\n  margin-top: 15px;\n  margin-left: 0px;\n  width: 240px;\n  padding: 10px;\n  border: 1px solid #b0b0b0;\n  border-radius: 20px;\n  height: 37px;\n  color: #888888;\n  font-size: 16px;\n  font-weight: 400;\n`;\n\nconst CVC = styled.div`\n  font-size: 16px;\n  font-weight: normal;\n  margin-top: 20px;\n  margin-right: 200px;\n  color: #293545;\n`;\n\nconst SubmitButton = styled.button`\n  margin-top: 30px;\n  width: 500px;\n  height: 44px;\n  padding: 15px;\n  margin-bottom: 100px;\n  border-radius: 20px;\n  background-color: #cf316a;\n  color: #ffffff;\n  font-size: 16px;\n  font-weight: 700;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n\n  &:hover {\n    background-color: #ff457b;\n  }\n`;\n\nconst Card = styled.div`\n  border: 1px solid #293545;\n  border-radius: 10px;\n  padding: 10px;\n  border: 1px solid #293545;\n  border-radius: 10px;\n  padding: 10px;\n  color: #293545;\n  width: 390px;\n  display: block;\n  margin-right: 200px;\n  margin-top: 150px;\n`;\n\nconst LeftSide = styled.div`\n  border-style: solid;\n  border-radius: 10px;\n  color: #293545;\n  margin-right: 100px;\n`;\n\nconst RightSide = styled.div`\n  border-style: solid;\n  border-radius: 10px;\n  color: #293545;\n`;\n\nconst Image = styled.div`\n  padding: 15px;\n  height: 250px;\n\n  img {\n    width: 100%;\n    height: 100%;\n    border-radius: 10px;\n  }\n`;\n\nconst Pricing = styled.div`\n  margin-top: 10px;\n  margin-left: 20px;\n  font-size: 20px;\n  font-weight: bold;\n`;\n\nconst CostAndAmount = styled.div`\n  margin-top: 20px;\n  margin-left: 20px;\n  font-size: 16px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n`;\n\nconst Amount = styled.div`\n  margin-right: 20px;\n  font-size: 16px;\n  font-weight: normal;\n`;\n\nconst Total = styled.div`\n  margin-top: 60px;\n  margin-left: 20px;\n  margin-bottom: 20px;\n  font-size: 20px;\n  font-weight: bold;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n`;\n\nconst TotalCost = styled.div`\n  margin-right: 20px;\n  font-size: 20px;\n  font-weight: bold;\n`;\n\nconst ErrorMessageArea = styled.div`\n  font-size: 12px;\n  font-weight: 400;\n  color: rgba(207, 49, 106, 1);\n  margin-left: 200px;\n`;\n\nfunction BookingForm() {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const isCancelRoute = window.location.pathname.includes(\"/cancel\");\n  const { roomData, numGuests } = location.state;\n  const [isFetching, setIsFetching] = useState(false);\n  const [serverError, setServerError] = useState({ status: 0, message: \"\" });\n  const [cardNumber, setCardNumber] = useState(\"4242424242424242\");\n  const [expirationDate, setExpirationDate] = useState(\"12/34\");\n  const [cvc, setCVC] = useState(\"121\");\n  const applyInputRef = useRef(null);\n  const [pointsUsed, setPointsUsed] = useState(0);\n\n  const { isLoading: isUserInfoLoading, data: userInfo } = useQuery(\n    [\"userinfo\"],\n    getUserInfo\n  );\n\n  const {\n    handleSubmit,\n    register,\n    formState: { errors },\n  } = useForm();\n\n  const nights = Math.floor(\n    (new Date(roomData.endDate).getTime() -\n      new Date(roomData.startDate).getTime()) /\n      (24 * 3600 * 1000)\n  );\n  const subtotal = roomData.price * nights;\n  const tax = subtotal * 0.08;\n  const total = subtotal + tax - pointsUsed / 10;\n  const rewardPointsEarned = Math.floor(total * 0.5);\n  console.log(rewardPointsEarned);\n\n  let dollarString = new Intl.NumberFormat(\"en-US\", {\n    style: \"currency\",\n    currency: \"USD\",\n    minimumFractionDigits: 2,\n  });\n\n  const checkInDateParts = roomData.startDate.split(\", \");\n  const monthNames = [\n    \"Jan\",\n    \"Feb\",\n    \"Mar\",\n    \"Apr\",\n    \"May\",\n    \"Jun\",\n    \"Jul\",\n    \"Aug\",\n    \"Sep\",\n    \"Oct\",\n    \"Nov\",\n    \"Dec\",\n  ];\n  const dateParts = checkInDateParts[0].split(\" \");\n  const month = monthNames.indexOf(dateParts[0]);\n  const day = parseInt(dateParts[1]);\n  const year = parseInt(checkInDateParts[1]);\n\n  const checkInDate = new Date(year, month, day);\n  const currentDate = new Date(); //2023, 10, 11 Mmonths are 0-indexed (10 represents November).\n\n  console.log(\"checkindate\", checkInDate);\n  console.log(\"currentdate\", currentDate);\n\n  const threeDaysPrior = (currentDate, checkInDate) => {\n    const hoursDifference = Math.abs(currentDate - checkInDate) / 36e5;\n    return hoursDifference <= 72;\n  };\n\n  console.log(\"3 days\", threeDaysPrior(currentDate, checkInDate));\n\n  const getCancellationFee = () => {\n    if (isCancelRoute && threeDaysPrior(currentDate, checkInDate)) {\n      return Math.round(total * 0.2); // Cancellation fee applies within 3 days\n    } else {\n      return 0; // No cancellation fee\n    }\n  };\n\n  const onSubmit = async (formData) => {\n    if (isCancelRoute) {\n      //calculating cancellation fee\n      const cancellationFee = getCancellationFee();\n\n      //request body with the cancellation fee\n      const body = {\n        cancellationFee: cancellationFee,\n      };\n\n      const response = await fetch(`${SERVER_URL}/bookings/${roomData.rid}`, {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(body), //including cancellation fee in the request body\n      });\n      const data = await response.json();\n      console.log(response.status, data);\n\n      if (response.ok) {\n        navigate(\"success\");\n      }\n\n      setIsFetching(false);\n    } else {\n      const body = {\n        ...formData,\n        startDate: roomData.startDate,\n        endDate: roomData.endDate,\n        numGuest: numGuests,\n        totalPrice: total,\n        pointsUsed,\n        cardNumber: cardNumber,\n        expirationDate: expirationDate,\n        cvc: cvc,\n        rewardPointsEarned,\n      };\n      setIsFetching(true);\n      const response = await fetch(\n        `${SERVER_URL}/bookings?rid=${roomData.rid}`,\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify(body),\n        }\n      );\n\n      const data = await response.json();\n      console.log(response.status, data);\n      setServerError({ status: response.status, message: data.message });\n\n      if (response.ok) {\n        if (data.error) setServerError({ ...serverError, message: data.error });\n        else navigate(\"success\");\n      }\n      setIsFetching(false);\n    }\n  };\n\n  const handleApplyRewardPoint = () => {\n    const value = applyInputRef.current.value;\n    if (!isUserInfoLoading) {\n      if (value > userInfo.rewardPoints) {\n        alert(\"You cannot apply reward points greater than that you own\");\n      } else {\n        setPointsUsed(value);\n      }\n    }\n  };\n\n  return (\n    <>\n      <LeftBox>\n        <Back onClick={() => navigate(-1)}>Back</Back>\n      </LeftBox>\n      <Container>\n        <LeftSide>\n          <div\n            style={{\n              borderBottom: \"1px solid #888\",\n              paddingBottom: \"30px\",\n              width: \"500px \",\n            }}\n          >\n            <BookingRequest>\n              {isCancelRoute ? \"Cancel Booking Request\" : \"Booking Request\"}\n            </BookingRequest>\n\n            {isCancelRoute && threeDaysPrior(currentDate, checkInDate) && (\n              <CheckInWarning>\n                You have cancellations fees because you are canceling within 3\n                days of your check-in date.\n              </CheckInWarning>\n            )}\n\n            <InfoTitle>Location:</InfoTitle>\n            <InfoText>\n              {roomData.street_name}, {roomData.city}, {roomData.state}\n            </InfoText>\n\n            <InfoTitle>Dates:</InfoTitle>\n            <InfoText>\n              {roomData.startDate} - {roomData.endDate}\n            </InfoText>\n\n            <InfoTitle>Number of Guests:</InfoTitle>\n            <InfoText>{numGuests}</InfoText>\n          </div>\n\n          <div\n            style={{\n              borderBottom: \"1px solid #888\",\n              padding: \"22px 0 30px 0\",\n              width: \"500px \",\n            }}\n          >\n            <InfoTitle>\n              Reward Points {isCancelRoute ? \"Earned\" : \"to Earn\"}:\n            </InfoTitle>\n            <InfoText>{rewardPointsEarned} points</InfoText>\n          </div>\n          {!isCancelRoute && (\n            <div\n              style={{\n                borderBottom: \"1px solid #888\",\n                padding: \"22px 0 30px 0\",\n                width: \"500px \",\n              }}\n            >\n              <InfoTitle>Apply Reward Points</InfoTitle>\n              <InfoText>\n                Points owned: {isUserInfoLoading ? \"0\" : userInfo.rewardPoints}{\" \"}\n                points\n              </InfoText>\n              <br />\n              <FieldName>Apply points to reservation: </FieldName>\n              <div\n                style={{\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  gap: \"10px\",\n                  marginTop: \"5px\",\n                }}\n              >\n                <Input1\n                  ref={applyInputRef}\n                  type=\"number\"\n                  min={0}\n                  defaultValue={0}\n                  style={{ color: \"black\", margin: 0 }}\n                />\n                <SubmitButton\n                  style={{\n                    width: \"91px\",\n                    height: \"37px\",\n                    padding: 0,\n                    margin: 0,\n                  }}\n                  type=\"submit\"\n                  onClick={handleApplyRewardPoint}\n                >\n                  Apply\n                </SubmitButton>\n              </div>\n            </div>\n          )}\n\n          {!isCancelRoute && (\n            <div>\n              <Payment>Payment</Payment>\n              <form onSubmit={handleSubmit(onSubmit)}>\n                <FieldName>Card Number</FieldName>\n                <Input1\n                  {...register(\"cardNumber\", {\n                    required: \"Card Number is required\",\n                    valueAsNumber: true,\n                  })}\n                  style={{ color: \"black\" }}\n                  name=\"cardNumber\"\n                  value={cardNumber}\n                  onChange={(e) => setCardNumber(e.target.value)}\n                />\n                {errors.cardNumber && (\n                  <ErrorText className=\"error-text\">\n                    <span>{errors.cardNumber.message.toString()}</span>\n                  </ErrorText>\n                )}\n\n                <div style={{ display: \"flex\" }}>\n                  <div style={{ flex: 1, marginRight: \"10px\" }}>\n                    <FieldName>Expiration Date</FieldName>\n                    <Input2\n                      {...register(\"expirationDate\", {\n                        required: \"Expiration date is required\",\n                        validate: {\n                          validName: (value) => {\n                            // Check if the date is in the \"mm/yy\" format\n                            if (!/^\\d{2}\\/\\d{2}$/.test(value)) {\n                              return \"Invalid date format (mm/yy)\";\n                            }\n                          },\n                        },\n                      })}\n                      type=\"text\"\n                      style={{ color: \"black\" }}\n                      name=\"expirationDate\"\n                      value={expirationDate}\n                      onChange={(e) => setExpirationDate(e.target.value)}\n                    />\n                    {errors.expirationDate && (\n                      <ErrorText className=\"error-text\">\n                        <span>{errors.expirationDate.message.toString()}</span>\n                      </ErrorText>\n                    )}\n                  </div>\n\n                  <div style={{ flex: 1 }}>\n                    <CVC>CVC</CVC>\n                    <Input3\n                      {...register(\"cvc\", {\n                        valueAsNumber: true,\n                        required: \"CVC is required\",\n                        validate: {\n                          validName: (value) => {\n                            // Check if CVC has between 3 and 4 digits\n                            if (!/^\\d{3,4}$/.test(value)) {\n                              return \"Input must be between 3 and 4 digits.\";\n                            }\n                          },\n                        },\n                      })}\n                      style={{ color: \"black\" }}\n                      name=\"cvc\"\n                      value={cvc}\n                      onChange={(e) => setCVC(e.target.value)}\n                    />\n                    {errors.cvc && (\n                      <ErrorText2 className=\"error-text\">\n                        <span>{errors.cvc.message.toString()}</span>\n                      </ErrorText2>\n                    )}\n                  </div>\n                </div>\n\n                {serverError && (\n                  <ErrorText2 className=\"error-text\">\n                    <span>{serverError.message}</span>\n                  </ErrorText2>\n                )}\n                <SubmitButton type=\"submit\">\n                  {isCancelRoute ? (\n                    \"Cancel Booking\"\n                  ) : isFetching ? (\n                    <Ellipsis color=\"white\" size={30} />\n                  ) : (\n                    \"Pay & Reserve\"\n                  )}\n                </SubmitButton>\n              </form>\n            </div>\n          )}\n          {isCancelRoute && (\n            <div\n              style={{\n                padding: \"22px 0 30px 0\",\n                width: \"500px \",\n              }}\n            >\n              <InfoTitle>Cancellation Within 3 Days Refund Policy:</InfoTitle>\n              {threeDaysPrior(currentDate, checkInDate) ? (\n                <>\n                  <InfoText>\n                    Only a partial refund will be provided due to cancellation\n                    within 3 days. The refund is calculated by the formula:\n                    total reservation price - cancellation fee.\n                  </InfoText>\n                </>\n              ) : (\n                <NoFeeContainer>\n                  <NoFee>\n                    No cancellation fees are charged for your request.\n                  </NoFee>\n                </NoFeeContainer>\n              )}\n              <form onSubmit={handleSubmit(onSubmit)}>\n                <SubmitButton type=\"submit\"> Cancel Booking</SubmitButton>\n              </form>\n            </div>\n          )}\n        </LeftSide>\n\n        <RightSide>\n          <Card>\n            <Image>\n              <img src={roomData.imageUrl} alt=\"hotel-room\" />\n            </Image>\n            <Pricing>{isCancelRoute ? \"Amount Due:\" : \"Pricing:\"}</Pricing>\n            <CostAndAmount>\n              <div>\n                {isCancelRoute\n                  ? \"Cancellation Fees\"\n                  : `${roomData.price} x ${nights} nights`}\n              </div>\n              <Amount>\n                {isCancelRoute\n                  ? `$${getCancellationFee()}`\n                  : dollarString.format(subtotal)}\n              </Amount>\n            </CostAndAmount>\n            {!isCancelRoute && (\n              <>\n                <CostAndAmount>\n                  <div>Tax (8%)</div>\n                  <Amount>{dollarString.format(tax)}</Amount>\n                </CostAndAmount>\n                <CostAndAmount>\n                  <div>Discount from points</div>\n                  <Amount>-{dollarString.format(pointsUsed / 10)}</Amount>\n                </CostAndAmount>\n              </>\n            )}\n            <Total>\n              <div>Total (USD):</div>\n              <TotalCost>\n                {isCancelRoute\n                  ? `$${getCancellationFee()}`\n                  : dollarString.format(total)}\n              </TotalCost>\n            </Total>\n          </Card>\n        </RightSide>\n      </Container>\n    </>\n  );\n}\n\nexport default BookingForm;\n"],"mappings":";AAAA,OAAOA,MAAM,MAAM,mBAAmB;AACtC,SAASC,OAAO,QAAQ,iBAAiB;AACzC,SAASC,UAAU,EAAEC,WAAW,QAAQ,KAAK;AAC7C,OAAOC,KAAK,IAAIC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAC/C,SAASC,WAAW,EAAEC,WAAW,QAAQ,kBAAkB;AAC3D,SAASC,QAAQ,QAAQ,oBAAoB;AAC7C,SAASC,QAAQ,QAAQ,aAAa;AACtC,SAASC,MAAM,EAAEC,KAAK,QAAQ,UAAU;AAExC,MAAMC,SAAS,GAAGb,MAAM,CAACc,IAAK;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAED,MAAMC,OAAO,GAAGf,MAAM,CAACgB,GAAI;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAED,MAAMC,IAAI,GAAGjB,MAAM,CAACgB,GAAI;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAED,MAAME,cAAc,GAAGlB,MAAM,CAACgB,GAAI;AAClC;AACA;AACA;AACA;AACA,CAAC;AAED,MAAMG,SAAS,GAAGnB,MAAM,CAACgB,GAAI;AAC7B;AACA;AACA;AACA;AACA,CAAC;AAED,MAAMI,QAAQ,GAAGpB,MAAM,CAACgB,GAAI;AAC5B;AACA;AACA;AACA;AACA,CAAC;AAED,MAAMK,KAAK,GAAGrB,MAAM,CAACgB,GAAI;AACzB;AACA;AACA;AACA;AACA;AACA,CAAC;AAED,MAAMM,cAAc,GAAGtB,MAAM,CAACgB,GAAI;AAClC;AACA;AACA;AACA,CAAC;AAED,MAAMO,OAAO,GAAGvB,MAAM,CAACgB,GAAI;AAC3B;AACA;AACA;AACA;AACA,CAAC;AAED,MAAMQ,SAAS,GAAGxB,MAAM,CAACyB,IAAK;AAC9B;AACA;AACA;AACA;AACA,CAAC;AAED,MAAMC,UAAU,GAAG1B,MAAM,CAACyB,IAAK;AAC/B;AACA;AACA;AACA;AACA,CAAC;AAED,MAAME,cAAc,GAAG3B,MAAM,CAACyB,IAAK;AACnC;AACA;AACA;AACA;AACA;AACA,CAAC;AAED,MAAMG,SAAS,GAAG5B,MAAM,CAACgB,GAAI;AAC7B;AACA;AACA;AACA;AACA,CAAC;AAED,MAAMa,MAAM,GAAG7B,MAAM,CAAC8B,KAAM;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAED,MAAMC,MAAM,GAAG/B,MAAM,CAAC8B,KAAM;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAED,MAAME,MAAM,GAAGhC,MAAM,CAAC8B,KAAM;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAED,MAAMG,GAAG,GAAGjC,MAAM,CAACgB,GAAI;AACvB;AACA;AACA;AACA;AACA;AACA,CAAC;AAED,MAAMkB,YAAY,GAAGlC,MAAM,CAACmC,MAAO;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAED,MAAMC,IAAI,GAAGpC,MAAM,CAACgB,GAAI;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAED,MAAMqB,QAAQ,GAAGrC,MAAM,CAACgB,GAAI;AAC5B;AACA;AACA;AACA;AACA,CAAC;AAED,MAAMsB,SAAS,GAAGtC,MAAM,CAACgB,GAAI;AAC7B;AACA;AACA;AACA,CAAC;AAED,MAAMuB,KAAK,GAAGvC,MAAM,CAACgB,GAAI;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAED,MAAMwB,OAAO,GAAGxC,MAAM,CAACgB,GAAI;AAC3B;AACA;AACA;AACA;AACA,CAAC;AAED,MAAMyB,aAAa,GAAGzC,MAAM,CAACgB,GAAI;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAED,MAAM0B,MAAM,GAAG1C,MAAM,CAACgB,GAAI;AAC1B;AACA;AACA;AACA,CAAC;AAED,MAAM2B,KAAK,GAAG3C,MAAM,CAACgB,GAAI;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAED,MAAM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"},"metadata":{},"sourceType":"module"}